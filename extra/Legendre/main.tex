\chapter{Legendre's Differential Equation and Legendre Polynomials}


\section{Legendre's Sturm-Liouville problem}

\section{Derivation of the differential equation}

Legendre polynomials appear when we solve for example Laplace's equation in the spherical coordinate representation.
In particular, Legendre polynomials arise when there is azimuthal symmetry, and the associated Legendre polynomials arise when we consider the full angular decomposition of solutions.
Let us see this organically.
Laplace's equation is generically given as
\begin{eqnarray}
    \laplacian \phi(\va*{r}) = 0
.\end{eqnarray}
In spherical coordinates, the Laplacian operator is
\begin{eqnarray}
    \Bigg[ \frac{1}{r^2} \pdv{r} \Big( r^2 \pdv{r} \Big) + \frac{1}{r^2 \sin{\theta}} \pdv{\theta} \Big( \sin{\theta} \pdv{\theta} \Big) + \frac{1}{r^2 \sin^2{\theta}} \pdv[2]{\phi} \Bigg] \psi(r,\theta,\phi) = 0
.\end{eqnarray}
If we pose a separable ansatz for the solution $\psi(r,\theta,\phi) = R(r) P(\theta) T(\phi)$, then the equation reduces to
\begin{align}
    \underbrace{ \frac{\sin^2{\theta}}{ R(r)} \dv{r} \Big( r^2 \dv{R(r)}{r} \Big) + \frac{\sin{\theta}}{P(\theta)} \dv{\theta} \Big( \sin{\theta} \dv{P(\theta)}{\theta} \Big) }_{F(r,\theta)} + \underbrace{ \frac{1}{T(\phi)} \dv[2]{T(\phi)}{\phi} }_{G(\phi)} = 0
.\end{align}
It is clear from this that both functions $F$ and $G$ are constants with respect to $\phi$.
Let us have 
\begin{align}
    G(\phi) = -m^2 \Rightarrow \dv[2]{T}{\phi} + m^2 T = 0 \Rightarrow T(\phi) = e^{\pm im\phi}
,\end{align}
We know that the form of the solution in $\phi$ must be periodic such that $T(\phi + 2\pi) = T(\phi)$\footnote{This is what led us to choose a negative constant for $G$ in the first place too.}.
This constraint forces $m \in \Z$\footnote{The set $\Z = \{ \ldots,-2,-1,0,1,2 \}$ is the collection of integers.}.

From this constraint, we can also write
\begin{align}
    F(r,\theta) = m^2
,\end{align}
which leads to
\begin{align}
    \underbrace{ \frac{1}{R(r)}\dv{r} \Big( r^2 \dv{R(r)}{r} \Big) }_{ H(r) } + \underbrace{ \frac{1}{\sin{\theta} P(\theta)} \dv{\theta} \Big( \sin{\theta} \dv{P(\theta)}{\theta} \Big) - \frac{m^2}{\sin^2{\theta}} }_{ I(\theta) } = 0
.\end{align}
Again, $H$ and $I$ must be independent of $r$ and $\theta$, and we will set $I(\theta) = -\lambda$, which also means that $H(r) = \lambda$.
Typically, we write the eigenvalue in a convenient form, but here we will remain oblivious to its form and recover the conventional $l(l+1)$ behavior later.
For now, we ignore the radial dependence.
The solution is not terribly difficult, but the associated Legendre polynomials we care about are the solutions to azimuthal angle dependent differential equation:
\begin{align}
    \frac{1}{\sin{\theta}} \dv{\theta}\Big( \sin{\theta} \dv{P(\theta)}{\theta} \Big) + \Big[ \lambda - \frac{m^2}{\sin^2{\theta}} \Big] P(\theta) = 0
.\end{align}
This is equivalent to Legendre's equation, but we can write it in its canonical form via the substitution $x = \cos{\theta}$.
The differential operator then transforms as
\begin{eqnarray}
    \dv{\theta} = \dv{x}{\theta} \dv{x} = \sin{\theta} \dv{x} = \sqrt{1 - x^2} \dv{x}
,\end{eqnarray}
and therefore,
\begin{eqnarray}
    \label{eq:associated-legendre-eq}
    \Bigg[ \dv{x} (1 - x^2) \dv{x} - \frac{m^2}{1-x^2} \Bigg] P(x) = -\lambda P(x)
.\end{eqnarray}
This equation is exactly of the SL form with $p(x) = 1 - x^2,~ q(x) = \\ -m^2/(1-x^2),~{\rm and}~r(x) = 1$.
It is clear since $p(\pm 1) = 0$ the boundary conditions are satisfied, and therefore, its solutions will be orthogonal in the sense that
\begin{eqnarray}
    (P_{\lambda}(x),P_{\mu}(x)) = \int_{-1}^{1} P_{\lambda}^{*}(x) P_{\mu}(x) \dd{x} = 0
\end{eqnarray}
if $\lambda \ne \mu$.


\section{Series solution with $m=0$}

The differential equation \eref{associated-legendre-eq} is generally true, but we can simplify our life a bit to begin by considering azimuthally symmetric solutions.
That is, $m = 0$, giving
\begin{eqnarray}
    \label{eq:legendre-m0}
    \dv{x} (1 - x^2) \dv{P(x)}{x} + \lambda P_{l}(x) = 0
.\end{eqnarray}
It will actually be seen later that we can obtain the solution for nonzero $m$ from this special case.

It is not clear the above equation how to express $P_{l}$ in terms of elementary functions, so we will solve the equation using Frobenius' method, which means that we write $P_{l}$ as a power series
\begin{align}
    P(x) = \sum_{n=0}^{\infty} a_{n} x^{n + \gamma}
\end{align}
and solve for the coefficients $a_{n}$ and $\gamma$ such that $P$ satisfies Legendre's equation.
The introduction of $\gamma$ allows the leading power of the expansion to potentially vary as well as make the powers non-integer.
Putting this into \eref{legendre-m0}, we have
\begin{gather}
    \dv{x}(1 - x^2) \sum_{n=0}^{\infty} (n+\gamma) a_{n} x^{n+\gamma-1} + \sum_{n=0}^{\infty} \lambda a_{n} x^{n+\gamma} = 0 \nonumber \\
    \dv{x} \sum_{n=0}^{\infty} (n+\gamma) a_{n} x^{n+\gamma-1} - \dv{x} \sum_{n=0}^{\infty} (n+\gamma) a_{n} x^{n+\gamma+1} + \sum_{n=0}^{\infty} \lambda a_{n} x^{n+\gamma} \nonumber \\
    \sum_{n=0}^{\infty} (n+\gamma) (n+\gamma-1) a_{n} x^{n+\gamma-2} - \sum_{n=0}^{\infty} (n+\gamma)(n+\gamma+1) a_{n} x^{n+\gamma} + \sum_{n=0}^{\infty} \lambda a_{n} x^{n + \gamma} \nonumber \\
    \sum_{n=-2}^{\infty} (n+\gamma+2)(n+\gamma+1) a_{n+2} x^{n+\gamma} + \sum_{n=0}^{\infty} [ \lambda - (n+\gamma)(n+\gamma+1) ] a_{n} x^{n+\gamma}
.\end{gather}
Shifting the indices of the first sum so that $n \rightarrow n+2$, we arrive at 
\begin{align}
    \gamma &(\gamma - 1) a_{0} x^{\gamma - 2} + \gamma(\gamma + 1) a_{1} x^{\gamma - 1} \nonumber \\
                                             &+ \sum_{n=0}^{\infty} \Big\{ (n+\gamma+1)(n+\gamma+2)a_{n+2} + [ \lambda - (n+\gamma)(n+\gamma+1) ] a_{n} \Big\} x^{n+\gamma} = 0
.\end{align}
In order to have this expression be zero for every $x$, we must have the coefficients of each power of $x$ be identically zero.
For the first term, this means that
\begin{eqnarray}
    \gamma(\gamma - 1) = 0 \Rightarrow \gamma = 0~{\rm or}~1
.\end{eqnarray}
These two solutions for $\gamma$ are what give us our two solutions of the differential equation.
For either value of $\gamma$, we must have
\begin{eqnarray}
    a_1 = 0
.\end{eqnarray}
since $(\gamma + 1)(\gamma+2) > 0$.
Focusing now on the coefficient inside the sum, we obtain the recurrence relation
\begin{align}
    \label{eq:legendre-rec-rel}
    a_{n+2} = \frac{(n+\gamma)(n+\gamma+1) - \lambda}{(n+\gamma+1)(n+\gamma+2)} a_{n}
.\end{align}
We can see immediately from this that the odd terms $a_{2n+1} = 0$ since these are recursively related to $a_1$.

This is where we determine the value of $\lambda$.
The basis of the argument is that the power series solution must converge\footnote{Otherwise our power series is not really a function.}.
As a first pass, let us perform the ratio test:
\begin{eqnarray}
    \lim_{n \rightarrow \infty} \Big| \frac{a_{n+2}}{a_{n}} \Big| = \lim_{n \rightarrow \infty} \frac{(n+\gamma)(n+\gamma+1) - \lambda}{(n+\gamma+1)(n+\gamma+2)} = 1
.\end{eqnarray}
The test is indeterminate, so we cannot conclude anything about the series about its convergence (or lack thereof).
Another, more obscure test for us physicists, is the Gauss test.
The theorem is this: \textit{Consider a series $\sum_{k} a_{k}$ such that $a_{k} > 0$. Given a bounded function $B(k)$ as $k \rightarrow \infty$, if $|a_{k}/a_{k+1}| = 1 + A/n + B(n)/n^{r}$ with $r > 1$, then the series is divergent for $A \leq 1$ and convergent for $A > 1$.}
We can expand the ratio of successive coefficients in the limit $n \rightarrow \infty$\footnote{Tell wolfram the following: \textbf{expand (2k+gamma+1)(2k+gamma+2)/((2k+gamma)(2k+gamma+1) - lambda) as k -> infty}}
\begin{eqnarray}
    \frac{a_{2k}}{a_{2k+2}} = \frac{(2k+\gamma+1)(2k+\gamma+2)}{(2k+\gamma)(2k+\gamma+1) - \lambda} = 1 + \frac{1}{k} + \frac{\lambda - 2\gamma}{4n^2} + \ldots
.\end{eqnarray}
We see from here that $A = 1$, implying that our series formally diverges for every $\lambda$ if for every $n \geq 0$ there exists $N > n$ such that $a_{N} \ne 0$\footnote{This is just a formal way of saying that the series includes an infinite number of nonzero coefficients.}.
We, therefore, have to truncate our series such that there exists some $n=l$ with $a_{l} \ne 0$ but for each $n > l$ the coefficient $a_{n} = 0$.
In terms of our recurrence relation, this says
\begin{eqnarray}
    a_{l+2} = \frac{(l+\gamma)(l+\gamma+1) - \lambda}{(l+\gamma+1)(l+\gamma+2)} a_{l} = 0 \Rightarrow \lambda = (l+\gamma)(l+\gamma+1)
.\end{eqnarray}
For $\gamma=0$, we clearly have $\lambda = l(l+1)$ for even $l > 0$ as expected, which makes
\begin{eqnarray}
    P(x;\gamma=0) = \sum_{n=0}^{l} a_{n} x^{n} = P_{l}(x)
,\end{eqnarray}
which is a polynomial of degree $l$.
For $\gamma = 1$, we have $\lambda = (l+1)(l+2)$ for even $l > 0$, but we can always redefine $l$ such that $l \rightarrow l - 1$, making $l$ odd and $\lambda = l(l+1)$.
Thus, our solutions for $\gamma = 1$
\begin{eqnarray}
    P(x;\gamma=1) = \sum_{n=0}^{l-1} a_{n} x^{n+1} = P_{l}(x)
.\end{eqnarray}
We therefore have a full set of solutions for integers $l \geq 0$.
As a final note, we fix the undetermined constant $a_0$ by enforcing $P_{l}(1) = 1$.

\section{Rodrigues' Formula}

In the chapter on Sturm-Liouville problems, we gave a general form for Rodrigues' formula.
For the Legendre polynomials, we have $p(x) = 1-x^2$, $r(x) = 1$, and $g(x) = p(x)/r(x) = 1-x^2$.
Thus, Rodrigues' formula for the Legendre polynomials is simply
\begin{eqnarray}
    \label{eq:rodrigues-legendre}
    P_{l}(x) = \mathcal{N}_{l} \dv[l]{x} (1 - x^2)^{l}
.\end{eqnarray}
All that remains now is to determine $\mathcal{N}_{l}$, which is done such that $P_{l}(1) = 1$.

Observe that by the binomial theorem 
\begin{eqnarray}
    (1 - x^2)^{l} = \sum_{k=0}^{l} \binom{l}{k} (-x^2)^{l-k} = (-1)^{l} \sum_{k=0}^{l} \binom{l}{k} (-1)^{k} x^{2(l-k)}
.\end{eqnarray}
Taking the $l^{\rm th}$ derivative and evaluating at $x = 1$, we have
\begin{align}
    \dv[l]{x} (1 - x^2)^{l}\Big|_{x=1} &= (-1)^{l} \sum_{k = 0}^{\lfloor l/2 \rfloor} \binom{l}{k} (-1)^{k} (2l - 2k)(2l-2k-1)\ldots(2l-2k-l+1) \nonumber \\
    &= (-1)^{l} \sum_{k=0}^{\lfloor l/2 \rfloor} \frac{l!}{k!(l-k)!} \frac{[2(l-k)]!}{(l-2k)!} (-1)^{k} \nonumber \\
    &= (-1)^{l} l! \sum_{k=0}^{\lfloor l/2 \rfloor} \frac{(-1)^{k}}{k!(l-2k)!} \frac{2^{2(l-k)}}{\sqrt{\pi}} \Gamma([l-k] + 1/2) \nonumber \\
    &= (-1)^{l} 2^{l} l! \sum_{k=0}^{\lfloor l/2 \rfloor} \frac{1}{\sqrt{\pi}} \frac{(-1)^{k} 2^{l-2k}}{k!(l-2k)!} \Gamma(l-k+1/2) \nonumber \\
    &= (-1)^{l} 2^{l} l! = \frac{1}{\mathcal{N}_{l}}
.\end{align}
At the moment, I do not have a derivation of the fact that the sum in the second-to-last-line gives 1.
I plugged it into Wolfram, and it magically produced the result.
We will take it at the moment unless some inspiration strikes that allows me to prove this without a computer algebra system.
Anyway, putting this into \eref{rodrigues-legendre}, we find the result
\begin{eqnarray}
    P_{l}(x) = \frac{1}{2^{l} l!} \dv[l]{x} (x^2 - 1)^{l}
.\end{eqnarray}

\section{Generating Function}

In a previous section, we have seen that we can write a generating function for the Legendre polynomials as
\begin{eqnarray}
    g(x,t) = \sum_{l=0}^{\infty} t^{n} \frac{l!}{2 \pi i} \frac{1}{2^{l} l!} \oint_{C} \frac{(z^2 - 1)^{l}}{(z - x)^{l+1}} \dd{z}
.\end{eqnarray}
We now pull the sum into the integral and use the geometric sum formula (forcing the contour small enough such that the sum is convergent\footnote{The condition is formally that $| t(z^2 - 1)/[2(z-x)] | < 1$}) such that
\begin{align}
    g(x,t) &= \frac{1}{2 \pi i} \oint_{C} \frac{1}{z-x} \sum_{l=0}^{\infty} \Bigg( \frac{t(z^2 - 1)}{2(z-x)} \Bigg)^{l} \nonumber \\
    &= \frac{1}{2 \pi i} \oint_{C} \frac{2}{2(z-x) - t(z^2 - 1)} \nonumber \\
    &= \frac{1}{2 \pi i} \Bigg[- \frac{2}{t} \oint_{C} \Big( z^2 - \frac{2}{t} z - \frac{2x - t}{t} \Big)^{-1} \Bigg]
.\end{align}
Notice that we can write
\begin{eqnarray}
    z^2 - \frac{2}{t} z - \frac{2x - t}{t} = (z - z_{+}) (z - z_{-})
,\end{eqnarray}
where
\begin{eqnarray}
    z_{\pm} = \frac{1}{t} \pm \sqrt{ \frac{1}{t^2} - \frac{2x - t}{t} } = \frac{1}{t} \Big[ 1 \pm \sqrt{1 - 2xt + t^2} \Big]
.\end{eqnarray}
We now just have to apply the residue theorem to evaluate the integral.
By forcing the contour to be small enough so that the sum converged, we made it so that only the pole $z = z_{-}$ is enclosed by the contour\footnote{This is a subtle point: for the convergence condition above if $x$ and $|t|$ are small, then $z_{+} \approx 2/t \rightarrow \infty$ and $z_{-} \approx 0$. It is an important point though because otherwise the integration gives zero if neither pole or both poles are enclosed.}.
Using this fact, we have
\begin{eqnarray}
    \eref{eq:legendre-gen}
    g(x,t) = -\frac{2}{t} \frac{1}{z_{-} - z_{+}} = \frac{2}{t} \frac{t}{2\sqrt{1 - 2xt + t^2}} = \frac{1}{\sqrt{1 - 2xt + t^2}}
.\end{eqnarray}

\eref{legendre-gen} is exactly the generating function we have been given in class.
By definition, we have
\begin{eqnarray}
    g(x,t) = \frac{1}{\sqrt{1 - 2xt + t^2}} = \sum_{n=0}^{\infty} P_{n}(x) t^{n}
,\end{eqnarray}
and now, we can derive a slew of recurrence relations between the Legendre polynomials and their derivatives that will come in handy.
First, it is clear that
\begin{eqnarray}
    g(1,t) = \frac{1}{\sqrt{1-2t+t^2}} = \frac{1}{1 - t} = \sum_{n=0}^{\infty} t^{n}
,\end{eqnarray}
which gives that $P_{n}(1) = 0$ as needed.
Additionally, we can determine $P_{n}(-1)$ in the same way:
\begin{eqnarray}
    g(-1,t) = \frac{1}{1 + t} = \sum_{n=0}^{\infty} (-1)^{n} t^{n}
.\end{eqnarray}
We can also determine $P_{n}(0)$
\begin{eqnarray}
    g(0,t) = \frac{1}{\sqrt{1 + t^2}} = \sum_{n=0}^{\infty} (-1)^{n} \frac{(2n-1)!!}{(2n)!!} t^{2n}
.\end{eqnarray}
This says that $P_{2n+1}(0) = 0$ and $P_{2n}(0) = (-1)^{n} (2n-1)!!/(2n)!!$.

Next, we derive the three-term recurrence formula.
First, we take the derivative of $g$ with respect to $t$:
\begin{eqnarray}
    \pdv{g}{t} = \frac{x-t}{(1 - 2xt + t^2)^{3/2}} = \frac{x-t}{1-2xt+t^2} g(x,t) = \sum_{n=0}^{\infty} n P_{n}(x) t^{n-1}
.\end{eqnarray}
Thus,
\begin{gather}
    (x-t) \sum_{n=0}^{\infty} P_{n}(x) t^{n} = (1 - 2xt + t^2) \sum_{n=0}^{\infty} n P_{n}(x) t^{n-1} \nonumber \\
    \sum_{n=0}^{\infty} nP_{n}(x) t^{n-1} - \sum_{n=0}^{\infty} (2n + 1) x P_{n}(x) t^{n} + \sum_{n=0}^{\infty} (n+1) P_{n}(x) t^{n+1} = 0 \nonumber \\
    \sum_{n=0}^{\infty} (n+1) P_{n+1}(x) t^{n} - \sum_{n=0}^{\infty} (2n+1) x P_{n}(x) t^{n} + \sum_{n=1}^{\infty} n P_{n-1}(x) t^{n} \nonumber \\
    [ P_1(x) - x P_0(x) ] + \sum_{n=1}^{\infty} [ (n+1)P_{n+1}(x) - (2n+1) x P_{n}(x) + n P_{n-1}(x) ] t^{n} = 0
.\end{gather}
We thus have a method to generate the Legendre polynomials iteratively.
If we initiate the sequence with $P_0(x) = 1$, then $P_1(x) = xP_0(x) = x$ and the higher order polynomials are given by
\begin{eqnarray}
    \label{eq:gen-rec-relation}
    P_{n+1}(x) = \frac{2n+1}{n+1} x P_{n}(x) - \frac{n}{n+1} P_{n-1}(x)
.\end{eqnarray}

If we instead take the derivative of $g$ with respect to $x$, we obtain
\begin{eqnarray}
    \pdv{g(x,t)}{x} = \frac{t}{(1 - 2xt + t^2)^{3/2}} = \frac{t}{1 - 2xt + t^2} g(x,t) = \sum_{n=0}^{\infty} P_{n}'(x) t^{n}
.\end{eqnarray}
Performing a series of manipulations
\begin{gather}
    \sum_{n=0}^{\infty} P_{n}'(x) t^{n} - \sum_{n=0}^{\infty} [ 2x P_{n}'(x) + P_{n}(x) ] t^{n + 1} + \sum_{n=0}^{\infty} P_{n}'(x) t^{n+2} = 0 \nonumber \\
    P_0'(x) + [ P_1'(x) - ( 2xP_0'(x) + P_0(x) ) ] t + \sum_{n=0}^{\infty} [ P_{n+2}'(x) - 2x P_{n}' - P_{n}(x) - P_{n+1}(x) ] t^{n+2} = 0
.\end{gather}
Observing that $P_0'(x) = 0$ and $P_1'(x) = 1$, we have the following recurrence relation
\begin{eqnarray}
    \label{eq:deriv-rec-relation}
    P_{n+1}'(x) + P_{n-1}'(x) = 2x P_{n}'(x) + P_{n}(x)
.\end{eqnarray}
We can rearrange \eref{gen-rec-relation}, and take its derivative such that we find
\begin{eqnarray}
    xP_{n}'(x) = \frac{n+1}{2n+1} P_{n+1}'(x) + \frac{n}{2n+1} P_{n-1}'(x) - P_{n}(x)
.\end{eqnarray}
Putting this into \eref{deriv-rec-relation}, we obtain
\begin{gather}
    P_{n+1}'(x) + P_{n-1}'(x) = \frac{2(n+1)}{2n+1} P_{n+1}'(x) + \frac{2n}{2n+1}P_{n-1}'(x) - P_{n}(x) \nonumber \\
    P_{n}(x) = \frac{1}{2n+1} \Big[ P_{n+1}'(x) - P_{n-1}'(x) \Big]
.\end{gather}
This is another useful result.
In particular, one thing we can derive with it is the following
\begin{align}
    \int_{-1}^{1} P_{n \ne 1}(x) \dd{x} &= \frac{1}{2n+1} [ P_{n+1}(x) - P_{n-1}(x) ]_{-1}^{1} \nonumber \\
    &= \frac{1}{2n+1} [ P_{n+1}(-1) - P_{n-1}(-1) ] = \frac{(-1)^{n+1} - (-1)^{n-1}}{2n+1} = 0
.\end{align}
If $n = 1$, then the integral is just $2$.
Similarly, if we adjust the lower bound to be zero
\begin{align}
    \int_{0}^{1} P_{n \ne 1}(x) \dd{x} &= \frac{P_{n+1}(0) - P_{n-1}(0)}{2n+1} = \begin{cases}
        0 & {\rm if}~n=2k \\
        P_{2(k-1)}(0) - P_{2(k-1)}(0) & {\rm if}~n=2k+1
    \end{cases}
.\end{align}
If $n = 1$, the integral is just 1.




\section{Normalization of Legendre polynomials}

We already know from the chapter on SL theory that the Legendre polynomials are orthogonal in the sense that
\begin{eqnarray}
    (P_{n},P_{m}) = \int_{-1}^{1} P_{n}(x) P_{m}(x) \dd{x} = 0
\end{eqnarray}
if $n \ne m$.
In the case where $n = m$, though, we would like to determine
\begin{eqnarray}
    || P_{n} ||^2 = (P_{n},P_{n}) = \int_{-1}^{1} P_{n}^2(x) \dd{x}
.\end{eqnarray}
We actually can do this by integrating the square of the generating function directly.
That is
\begin{align}
    \int_{-1}^{1} g^2(x,t) \dd{x} = \int_{-1}^{1} \frac{\dd{x}}{1 - 2xt + t^2} &= \sum_{n,m=0}^{\infty} t^{n+m} \int_{-1}^{1} P_{n}(x) P_{m}(x) \dd{x} \nonumber \\
    &= \sum_{n=0}^{\infty} t^{2n} \int_{-1}^{1} P_{n}^2(x) \dd{x}
.\end{align}
The integral on the left is simply solved by plugging it into Wolfram Alpha or pulling out an integral table
\begin{align}
    \int_{-1}^{1} \frac{\dd{x}}{1 - 2xt + t^2} = \frac{1}{t} \ln( \frac{1 + t}{1 - t} )
.\end{align}
We can now break out the Taylor expansion
\begin{eqnarray}
    \ln(1 \pm t) = \sum_{n=1}^{\infty} \frac{(-1)^{n}}{n} t^{n}
,\end{eqnarray}
to find
\begin{align}
    \frac{1}{t} \ln( \frac{1 + t}{1 - t} ) = \sum_{n=1}^{\infty} \frac{(-1)^{n+1} - 1}{n} t^{n-1} = \sum_{n=1}^{\infty} \frac{2}{2n-1} t^{2(n-1)} = \sum_{n=0}^{\infty} \frac{2}{2n+1} t^{2n}
,\end{align}
and equating this with the expansion of the generating function, we have
\begin{eqnarray}
    \sum_{n=0}^{\infty} \frac{2}{2n+1} t^{2n} = \sum_{n=0}^{\infty} t^{2n} (P_{n},P_{n})
.\end{eqnarray}
Thus, in full generality,
\begin{eqnarray}
    (P_{n},P_{m}) = \frac{2}{2n+1} \delta_{nm}
.\end{eqnarray}


\section{Associated Legendre polynomials}

The previous sections were quite a long discussion of Legendre polynomials, which are only a solution of the associated Legendre equation with $m=0$.
Here we will see how to solve the equation
\begin{eqnarray}
    \label{eq:associated-legendre-eq}
    \dv{x} \Big[ (1-x^2) \dv{P(x)}{x} \Big] + \Big[ \lambda - \frac{m^2}{1-x^2} \Big] P(x) = 0
\end{eqnarray}
when $m$ is nonzero.
The first insight is to write $P(x) = (1-x^2)^{r} \mathcal{P}(x)$ such that the factor $1-x^2$ in the denominator of the last term is eliminated.
Putting this into \eref{associated-legendre-eq}, we have
\begin{gather}
    \dv{x} \Big[ (1 - x^2)^{r+1} \mathcal{P}' - 2 r x(1 - x^2)^{r} \mathcal{P} \Big] + \Big[ \lambda - \frac{m^2}{1-x^2} \Big] (1-x^2)^{r} \mathcal{P} = 0 \nonumber \\
    (1-x^2)^{r+1}\mathcal{P}'' - 2x [ 2r + 1 ] (1-x^2)^{r} \mathcal{P}' + \Big[ \lambda - \frac{1}{1-x^2} ( m^2 + 2r[1 - (2r+1)x^2]) \Big] (1 - x^2)^{r} \mathcal{P} = 0
.\end{gather}
Dividing by $(1-x^2)^{r}$, we are left with
\begin{eqnarray}
    (1-x^2) \mathcal{P}'' - 2x(2r+1) \mathcal{P} + \Big[ \lambda - \frac{m^2 + 2r[ 1 - (2r + 1)x^2 ]}{1-x^2} \Big] \mathcal{P} = 0
.\end{eqnarray}
Observe that setting $r = m/2$ gets rid of this nuissance $1/(1-x^2)$ factor and leaves us with
\begin{eqnarray}
    (1-x^2) \mathcal{P}'' - 2x (m+1) \mathcal{P}' + [ \lambda - m(m+1) ] \mathcal{P} = 0
.\end{eqnarray}
We can proceed as in the case of Legendre polynomials and solve via a series solution.
This certainly would work, but it is incredibly tedious and not terribly englightening.
Instead, we can stand on the shoulders of our predecessors and perform the following steps.
Let us take Legendre's equation ($m = 0$) and differentiate $m$ times (note that this is implicitly assuming that $m$ is positive):
\begin{gather}
    \dv[m]{x} \Big[ (1-x^2) P_{l}'' - 2x P_{l}' + l(l+1)P_{l} \Big] = 0 \nonumber \\
    (1-x^2) \dv[m+2]{P_{l}}{x} - 2mx \dv[m+1]{P_{l}}{x} - m(m-1) \dv[m]{P_{l}}{x} - 2x \dv[m+1]{P_{l}}{x} - 2m \dv[m]{P_{l}}{x} + l(l+1) \dv[m]{P_{l}}{x}
.\end{gather}
If we set $\phi \equiv {\rm d} P_{l} / {\rm d}x$, then $\phi$ satisfies
\begin{eqnarray}
    (1-x^2) \phi'' - 2x(m+1) \phi' + [ l(l+1) - m(m+1) ] \phi = 0
,\end{eqnarray}
which is exactly the same equation that $\mathcal{P}$ satisfied above with $\lambda = l(l+1)$.
Thus, the solution to the associated Legendre equation is just
\begin{eqnarray}
    P_{l}^{m}(x) = (-1)^{m}(1-x^2)^{m/2} \dv[m]{P_{l}(x)}{x}
.\end{eqnarray}
Note that the factor $(-1)^{m}$ is inserted by convention.
Observe that we can include an additional constraint on the value of $m$ now.
Originally, we only restricted $m$ to the integers, but now, it is clear that if $m > l$, then the $m^{\rm th}$ derivative of $P_{l}$, which is an $l^{\rm th}$ order polynomial, will be identically zero.
We can obtain the solutions for $m < 0$ by inserting Rodrigues' formula for the Legendre polynomials, which gives
\begin{eqnarray}
    P_{l}^{m} = \frac{(-1)^{m}}{2^{l} l!} (1-x^2)^{m/2} \dv[l+m]{x} (x^2-1)^{l}
.\end{eqnarray}
Let us now prove the relation between solutions for $m < 0$ and $m > 0$.
For the negative $m$ solutions, we have
\begin{align}
    P_{l}^{-m} &= \frac{(-1)^{m}}{2^{l} l!} (1-x^2)^{-m/2} \dv[l-m]{x} (x+1)^{l}(x-1)^{l} \nonumber \\
    &= \frac{(-1)^{m}}{2^{l} l!} (-1)^{-m/2} (x^2 - 1)^{-m/2} \sum_{k=0}^{l-m} \binom{l-m}{k} \frac{l!}{(l-k)!} (x+1)^{l-k} \frac{l!}{(m+k)!} (x - 1)^{m+k} \nonumber \\
    &= \frac{(-1)^{m/2}}{2^{l} l!} \sum_{k=0}^{l-m} \frac{(l-m)!}{k!(l-m-k)!} \frac{l!}{(l-k)!} \frac{l!}{(m+k)!} (x+1)^{l-k-m/2}(x-1)^{k+m/2}
.\end{align}
Next, we do the same for the positive $m$ solutions:
\begin{align}
    P_{l}^{m} &= \frac{(-1)^{m}}{2^{l} l!} (1-x^2)^{m/2} \sum_{k=m}^{l} \binom{l+m}{k} \frac{l!}{(l-k)!} \frac{l!}{(k-m)!} (x+1)^{l-k} (x-1)^{k-m} \nonumber \\
    &= \frac{(-1)^{3m/2}}{2^{l} l!} \sum_{k=m}^{l} \frac{(l+m)!}{k!(l+m-k)!} \frac{l!}{(l-k)!} \frac{l!}{(k-m)!} (x+1)^{l-k+m/2} (x-1)^{k-m/2}
.\end{align}
If we shift indices such that $k \rightarrow k + m$, then
\begin{align}
    P_{l}^{m} &= \frac{(-1)^{3m/2}}{2^{l} l!} \sum_{k=0}^{l-m} \frac{(l+m)!}{(k+m)!(l-k)!} \frac{l!}{(l - m - k)!} \frac{l!}{k!} (x+1)^{l-k-m/2} (x-1)^{k+m/2} \nonumber \\
    &= (-1)^{m} \frac{(l+m)!}{(l-m)!} P_{l}^{-m}
.\end{align}
This is equivalent to saying that
\begin{eqnarray}
    P_{l}^{-m}(x) = (-1)^{m} \frac{(l-m)!}{(l+m)!} P_{l}^{m}(x)
.\end{eqnarray}




